# 건물 내구도 문제 풀이

## 문제 설명

N x M 크기의 게임 맵에는 내구도를 가진 건물들이 각 칸에 하나씩 존재합니다. 적의 공격과 아군의 회복 스킬로 인해 건물의 내구도가 변화하며, 내구도가 0 이하가 되면 건물이 파괴됩니다. 적은 특정 구간의 건물 내구도를 감소시키고, 아군은 특정 구간의 내구도를 증가시킬 수 있습니다. 최종적으로 내구도가 1 이상인 건물의 수를 구하는 문제입니다.

## 문제 해결 전략

1. **누적 합(prefix sum) 기법**을 활용하여, 각 스킬의 영향을 효율적으로 기록하고 계산합니다. 이를 통해 복잡한 연산을 단순화하여 큰 입력 크기에서도 빠르게 처리할 수 있습니다.
2. 각 스킬이 적용되는 범위에 대해 효과를 기록하고, 이후 누적합을 구해 전체 맵의 변화량을 계산합니다.
3. 최종적으로 변경된 내구도를 각 건물에 적용하여 파괴되지 않은 건물의 수를 구합니다.

## 알고리즘 설명

1. **누적합 배열 생성**
    - 주어진 `board`와 동일한 크기의 **누적합 배열**(`pSum`)을 생성합니다. 이 배열은 각 스킬의 영향을 기록하기 위한 것입니다.
    - 스킬 정보는 `[type, r1, c1, r2, c2, degree]`로 주어지며, 적의 공격일 경우 `type`이 1, 회복 스킬일 경우 `type`이 2입니다.
    - 공격일 경우 내구도를 감소시키므로 `-degree`, 회복일 경우 `+degree`로 변환하여 누적합 배열에 기록합니다.

2. **누적합 계산**
    - 각 스킬의 시작점과 끝점을 누적합 배열에 기록합니다. 이를 통해 나중에 범위 내의 모든 값에 대해 누적합을 계산할 수 있습니다.
    - 누적합 배열을 먼저 행 방향으로, 이후 열 방향으로 누적하여 각 위치에 최종적인 영향을 계산합니다.

3. **내구도 업데이트 및 결과 계산**
    - 누적합 배열을 이용해 원래의 `board`에 내구도 변화를 반영합니다.
    - 내구도가 1 이상인 건물의 수를 카운트하여 반환합니다.

## 코드 설명

### 코드 설명
- **누적합 배열 생성**: `pSum` 배열을 만들어 각 스킬의 영향을 기록합니다.
- **스킬 적용**: 각 스킬의 시작점과 끝점을 누적합 배열에 기록하여 이후 누적합 계산 시 적용될 수 있도록 합니다.
- **내구도 계산**: 최종적으로 `board`에 누적합을 적용하여 변경된 내구도를 계산하고, 내구도가 1 이상인 건물의 수를 반환합니다.

## 시간 복잡도
- 이 접근법은 `skill`의 크기가 최대 250,000이고, `board`의 크기가 최대 1,000 x 1,000일 때도 효율적으로 처리할 수 있도록 설계되었습니다. 누적합을 이용하여 각 스킬의 적용 범위를 효율적으로 기록하므로, 시간 복잡도는 **O(N + M + K)**에 가깝습니다. 이를 통해 큰 입력 크기에서도 효율적인 연산이 가능합니다.

